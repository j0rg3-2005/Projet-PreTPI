-- Créer la base de données BiblioTech si elle n'existe pas déjà
DROP DATABASE IF EXISTS bibliotech;
CREATE DATABASE bibliotech;

-- Sélectionner la base de données à utiliser
USE bibliotech;

-- Re-création de la table des utilisateurs si elle existe déjà
CREATE TABLE utilisateurs (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    nom VARCHAR(100) NOT NULL,
    prenom VARCHAR(100) NOT NULL,
    telephone VARCHAR(20) NOT NULL,
    adresse_postale VARCHAR(255),
    adresse_email VARCHAR(100)
);

-- Re-création de la table des livres si elle existe déjà
CREATE TABLE livres (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    titre VARCHAR(255) NOT NULL,
    genre VARCHAR(255) NOT NULL,
    auteur VARCHAR(255) NOT NULL,
    date_publication DATE NOT NULL
);

-- Re-création de la table des emprunts si elle existe déjà
CREATE TABLE emprunts (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    id_utilisateur INT,
    id_livre INT,
    date_debut DATE NOT NULL,
    date_fin DATE,
    etat VARCHAR(50) NOT NULL,
    FOREIGN KEY (id_utilisateur) REFERENCES utilisateurs(ID),
    FOREIGN KEY (id_livre) REFERENCES livres(ID)
);

-- Insertion des utilisateurs
INSERT INTO utilisateurs (nom, prenom, telephone, adresse_postale, adresse_email)
VALUES
('Dupont', 'Jean', '0123456789', '10 Rue de Paris, 75001 Paris', 'jean.dupont@email.com'),
('Martin', 'Claire', '0987654321', '5 Avenue des Champs-Élysées, 75008 Paris', 'claire.martin@email.com'),
('Lemoine', 'Luc', '0147258369', '34 Boulevard Saint-Germain, 75005 Paris', 'luc.lemoine@email.com'),
('Bernard', 'Pierre', '0112233445', '15 Rue de la République, 69002 Lyon', 'pierre.bernard@email.com'),
('Moreau', 'Sophie', '0687788990', '27 Place Bellecour, 69001 Lyon', 'sophie.moreau@email.com'),
('Lefevre', 'Julien', '0162233445', '8 Rue de Rivoli, 75001 Paris', 'julien.lefevre@email.com'),
('Robert', 'Aline', '0156223344', '43 Avenue Victor Hugo, 75016 Paris', 'aline.robert@email.com'),
('Pires', 'Carlos', '0677889901', '12 Rue de la Paix, 75002 Paris', 'carlos.pires@email.com'),
('Dufresne', 'Martine', '0147852369', '21 Rue de la Gare, 75012 Paris', 'martine.dufresne@email.com'),
('Dubois', 'Eric', '0685237461', '57 Boulevard Montparnasse, 75014 Paris', 'eric.dubois@email.com'),
('Boucher', 'Marc', '0754638291', '28 Rue de l’Opéra, 75009 Paris', 'marc.boucher@email.com'),
('Lemoine', 'Mélanie', '0246127389', '32 Avenue des Ternes, 75017 Paris', 'melanie.lemoine@email.com'),
('Gerard', 'Nicolas', '0956421378', '18 Rue de la Libération, 67000 Strasbourg', 'nicolas.gerard@email.com'),
('Leclerc', 'Isabelle', '0612345678', '9 Place de l’Étoile, 75008 Paris', 'isabelle.leclerc@email.com'),
('Martin', 'Lucie', '0145789456', '55 Rue du Faubourg Saint-Antoine, 75011 Paris', 'lucie.martin@email.com'),
('Baron', 'Michel', '0234567890', '47 Boulevard de la Villette, 75019 Paris', 'michel.baron@email.com'),
('Chevalier', 'Élise', '0178901234', '8 Rue de la Pomme, 31000 Toulouse', 'elise.chevalier@email.com'),
('Fournier', 'Catherine', '0612340987', '14 Place du Capitole, 31000 Toulouse', 'catherine.fournier@email.com'),
('Lemoine', 'Valérie', '0157684321', '22 Boulevard Jean-Jaurès, 69007 Lyon', 'valerie.lemoine@email.com'),
('Lopez', 'Antonio', '0645231578', '30 Rue des Pyrénées, 75020 Paris', 'antonio.lopez@email.com'),
('Roux', 'Géraldine', '0745962364', '25 Rue de la Villette, 75019 Paris', 'geraldine.roux@email.com'),
('Meyer', 'Jean-Pierre', '0254789512', '50 Rue Saint-Antoine, 75011 Paris', 'jean-pierre.meyer@email.com'),
('Hernandez', 'Santiago', '0337892456', '17 Boulevard Voltaire, 75011 Paris', 'santiago.hernandez@email.com'),
('Blanc', 'Alice', '0654321987', '40 Rue de la République, 69003 Lyon', 'alice.blanc@email.com'),
('Perrot', 'Juliette', '0798452376', '29 Rue du Faubourg Saint-Antoine, 75011 Paris', 'juliette.perrot@email.com'),
('Perrin', 'Claude', '0912378465', '23 Avenue des Champs-Élysées, 75008 Paris', 'claude.perrin@email.com'),
('Lemoine', 'Denis', '0623457869', '3 Rue de la Source, 76000 Rouen', 'denis.lemoine@email.com'),
('Dumas', 'André', '0178645301', '12 Rue de la Liberté, 33000 Bordeaux', 'andre.dumas@email.com'),
('Gosse', 'Isabelle', '0654321345', '34 Rue de la Lune, 69002 Lyon', 'isabelle.gosse@email.com'),
('Miller', 'Nathan', '0987531246', '18 Rue du Four, 75006 Paris', 'nathan.miller@email.com'),
('Bois', 'Christophe', '0145126369', '50 Boulevard de Sébastopol, 75003 Paris', 'christophe.bois@email.com'),
('Dupuis', 'Emilie', '0145678901', '7 Place des Vosges, 75003 Paris', 'emilie.dupuis@email.com'),
('Vidal', 'Michel', '0685349760', '25 Boulevard de la Madeleine, 75001 Paris', 'michel.vidal@email.com'),
('Thomas', 'Mélissa', '0165332210', '10 Rue de l’Église, 69001 Lyon', 'melissa.thomas@email.com'),
('Chavez', 'Luis', '0146238475', '33 Rue de l’Arcade, 75008 Paris', 'luis.chavez@email.com'),
('Dufresne', 'Sylvie', '0681274935', '4 Rue de l’Église, 75012 Paris', 'sylvie.dufresne@email.com'),
('Renaud', 'Bernadette', '0987554321', '51 Rue de la Paix, 75002 Paris', 'bernadette.renaud@email.com'),
('Durand', 'Benoît', '0761234567', '22 Rue de la Trémoille, 75008 Paris', 'benoit.durand@email.com'),
('Saïd', 'Karim', '0736593842', '12 Rue du Montparnasse, 75014 Paris', 'karim.said@email.com'),
('Guillaume', 'Sophie', '0759326187', '19 Avenue de la République, 75011 Paris', 'sophie.guillaume@email.com'),
('Hebert', 'Paul', '0113587924', '29 Rue de la Marne, 34000 Montpellier', 'paul.hebert@email.com'),
('Lemoine', 'Mathieu', '0165890475', '55 Boulevard de l’Indépendance, 59000 Lille', 'mathieu.lemoine@email.com'),
('Giraud', 'François', '0682938475', '10 Rue de la République, 31000 Toulouse', 'francois.giraud@email.com'),
('Nicolas', 'Chantal', '0145783642', '20 Avenue Montaigne, 75008 Paris', 'chantal.nicolas@email.com'),
('Lemoine', 'Henri', '0336745923', '8 Rue des Martyrs, 69009 Lyon', 'henri.lemoine@email.com'),
('Benoit', 'Julie', '0712345980', '31 Boulevard des Belges, 34000 Montpellier', 'julie.benoit@email.com'),
('Dupuis', 'Luc', '0145638721', '55 Boulevard des Italiens, 75009 Paris', 'luc.dupuis@email.com'),
('Vasseur', 'Cédric', '0142356879', '48 Avenue de la République, 75011 Paris', 'cedric.vasseur@email.com'),
('Tanguy', 'Alain', '0192837465', '24 Rue de la Bastille, 75011 Paris', 'alain.tanguy@email.com'),
('Bouchard', 'Emilie', '0654892043', '42 Rue de la République, 69001 Lyon', 'emilie.bouchard@email.com'),
('Gagnon', 'Sylvain', '0143546219', '17 Boulevard Voltaire, 75011 Paris', 'sylvain.gagnon@email.com'),
('Aubry', 'Valérie', '0146547381', '8 Rue de la Croix, 31000 Toulouse', 'valerie.aubry@email.com'),
('Germain', 'Vincent', '0789324765', '30 Rue de la Glacière, 75013 Paris', 'vincent.germain@email.com'),
('Maillard', 'Christine', '0142765345', '10 Boulevard de Strasbourg, 67000 Strasbourg', 'christine.maillard@email.com'),
('Lenoir', 'Romain', '1429823925', '21 Rue de la fortune, 1450 Ste-Croix ', 'romain.professionnal2004@gmail.com');

INSERT INTO livres (titre, genre, auteur, date_publication)
VALUES
('Le Petit Prince', 'Fiction', 'Antoine de Saint-Exupéry', '1943-04-06'),
('1984', 'Science-fiction', 'George Orwell', '1949-06-08'),
('Moby Dick', 'Aventure', 'Herman Melville', '1851-11-14'),
('Les Misérables', 'Historique', 'Victor Hugo', '1862-04-03'),
('Don Quichotte', 'Classique', 'Miguel de Cervantes', '1605-01-16'),
('Le Comte de Monte-Cristo', 'Aventure', 'Alexandre Dumas', '1844-08-28'),
('L\'Étranger', 'Philosophique', 'Albert Camus', '1942-05-01'),
('Orgueil et Préjugés', 'Romance', 'Jane Austen', '1813-01-28'),
('Les Fleurs du mal', 'Poésie', 'Charles Baudelaire', '1857-06-25'),
('La Recherche du Temps Perdu', 'Classique', 'Marcel Proust', '1913-01-01'),
('Le Seigneur des Anneaux', 'Fantasy', 'J.R.R. Tolkien', '1954-07-29'),
('Le Hobbit', 'Fantasy', 'J.R.R. Tolkien', '1937-09-21'),
('Harry Potter à l\'école des sorciers', 'Fantasy', 'J.K. Rowling', '1997-06-26'),
('Le Silence des Agneaux', 'Thriller', 'Thomas Harris', '1988-07-01'),
('L\'Attrape-Cœurs', 'Classique', 'J.D. Salinger', '1951-07-16'),
('Cien Años de Soledad', 'Magical realism', 'Gabriel García Márquez', '1967-06-05'),
('Dracula', 'Horreur', 'Bram Stoker', '1897-05-26'),
('Frankenstein', 'Horreur', 'Mary Shelley', '1818-01-01'),
('Anna Karénine', 'Romance', 'Léon Tolstoï', '1878-04-09'),
('Les Liaisons Dangereuses', 'Classique', 'Pierre Choderlos de Laclos', '1782-04-23'),
('La Peste', 'Philosophique', 'Albert Camus', '1947-06-10'),
('Le Meilleur des Mondes', 'Science-fiction', 'Aldous Huxley', '1932-01-01'),
('Le Livre des Esprits', 'Philosophie', 'Allan Kardec', '1857-04-18'),
('L\'Homme Qui Rit', 'Classique', 'Victor Hugo', '1869-01-01'),
('Les Trois Mousquetaires', 'Aventure', 'Alexandre Dumas', '1844-03-01'),
('Voyage au centre de la Terre', 'Science-fiction', 'Jules Verne', '1864-11-25'),
('Autant en emporte le vent', 'Romance', 'Margaret Mitchell', '1936-06-30'),
('L\'insoutenable légèreté de l\'être', 'Drame', 'Milan Kundera', '1984-01-01'),
('Le Parfum', 'Drame', 'Patrick Süskind', '1985-02-01'),
('Le Code Da Vinci', 'Thriller', 'Dan Brown', '2003-03-18'),
('Les Hauts de Hurlevent', 'Romance', 'Emily Brontë', '1847-12-01'),
('Le Livre de ma mère', 'Autobiographie', 'Albert Cohen', '1954-09-01'),
('Madame Bovary', 'Classique', 'Gustave Flaubert', '1857-04-01'),
('L\'Écume des jours', 'Romance', 'Boris Vian', '1947-01-01'),
('L\'Alchimiste', 'Fiction', 'Paulo Coelho', '1988-11-01'),
('La Nuit des temps', 'Science-fiction', 'René Barjavel', '1968-05-01'),
('Le Parfum de la dame en noir', 'Suspense', 'Gastón Leroux', '1908-01-01'),
('Le Mystère de la Chambre Jaune', 'Suspense', 'Gaston Leroux', '1907-01-01'),
('Le Hobbit', 'Fantasy', 'J.R.R. Tolkien', '1937-09-21'),
('Les Chroniques de Narnia', 'Fantasy', 'C.S. Lewis', '1950-10-16'),
('Fahrenheit 451', 'Science-fiction', 'Ray Bradbury', '1953-10-19'),
('Les Misérables', 'Historique', 'Victor Hugo', '1862-04-03'),
('Le Journal d\'Anne Frank', 'Histoire', 'Anne Frank', '1947-06-25'),
('L\'Amant', 'Romance', 'Marguerite Duras', '1984-03-01'),
('L\'Art de la guerre', 'Philosophie', 'Sun Tzu', '500-01-01'),
('Les Contes de la rue Broca', 'Jeunesse', 'Pierre Gripari', '1967-01-01'),
('Le Château de ma mère', 'Autobiographie', 'Marcel Pagnol', '1957-01-01'),
('L\'Histoire de ma vie', 'Autobiographie', 'George Sand', '1855-01-01'),
('Les Enfants de la Terre', 'Aventure', 'Jean M. Auel', '1980-09-01'),
('Sherlock Holmes', 'Policier', 'Arthur Conan Doyle', '1887-10-14'),
('Le Portrait de Dorian Gray', 'Classique', 'Oscar Wilde', '1890-07-01'),
('Les Liaisons Dangereuses', 'Romance', 'Pierre Choderlos de Laclos', '1782-04-23'),
('La Stratégie du Choc', 'Sociologie', 'Naomi Klein', '2007-01-01'),
('L\'Ordre et le Chaos', 'Philosophie', 'Michel Foucault', '1974-06-01'),
('L\'Insoutenable légèreté de l\'être', 'Drame', 'Milan Kundera', '1984-01-01'),
('Les Fourmis', 'Science-fiction', 'Bernard Werber', '1991-10-01'),
('Le Dernier Jour d\'un Condamné', 'Classique', 'Victor Hugo', '1829-01-01'),
('L\'Arme secrète', 'Policier', 'Gaston Leroux', '1907-01-01'),
('La Ferme des animaux', 'Fiction', 'George Orwell', '1945-08-17'),
('Le Vieil Homme et la Mer', 'Aventure', 'Ernest Hemingway', '1952-09-01'),
('Les Souffrances du jeune Werther', 'Romance', 'Johann Wolfgang von Goethe', '1774-02-01'),
('La Reine Margot', 'Historique', 'Alexandre Dumas', '1845-01-01'),
('Le Rouge et le Noir', 'Classique', 'Stendhal', '1830-11-01'),
('Germinal', 'Historique', 'Émile Zola', '1885-03-01'),
('La Dame aux camélias', 'Romance', 'Alexandre Dumas', '1848-03-01'),
('La Divine Comédie', 'Poésie', 'Dante Alighieri', '1320-01-01'),
('Le Cid', 'Théâtre', 'Pierre Corneille', '1637-01-01'),
('L\'Avare', 'Théâtre', 'Molière', '1668-01-01'),
('Le Bourgeois gentilhomme', 'Théâtre', 'Molière', '1670-03-19'),
('Les Liaisons Dangereuses', 'Drame', 'Pierre Choderlos de Laclos', '1782-04-23'),
('La Chute', 'Philosophique', 'Albert Camus', '1956-01-01'),
('Le Père Goriot', 'Classique', 'Honoré de Balzac', '1834-01-01'),
('Les Papiers de Simone', 'Roman', 'Simone de Beauvoir', '1971-06-10'),
('L\'Éducation sentimentale', 'Romance', 'Gustave Flaubert', '1869-01-01'),
('Le Père Goriot', 'Classique', 'Honoré de Balzac', '1834-01-01'),
('Les Misérables', 'Classique', 'Victor Hugo', '1862-01-01'),
('La Comédie humaine', 'Classique', 'Honoré de Balzac', '1834-01-01'),
('Les Déracinés', 'Historique', 'Maurice Barrès', '1897-01-01'),
('Le Faune', 'Poésie', 'Joris-Karl Huysmans', '1899-01-01'),
('Le Balzac', 'Classique', 'Honoré de Balzac', '1847-01-01'),
('Voyage au centre de la Terre', 'Aventure', 'Jules Verne', '1864-01-01'),
('La Ville', 'Poésie', 'Paul Eluard', '1938-01-01'),
('Les Rêveries du Promeneur solitaire', 'Philosophique', 'Jean-Jacques Rousseau', '1782-01-01'),
('Germinal', 'Historique', 'Émile Zola', '1885-01-01'),
('Le Dernier Jour d\'un Condamné', 'Classique', 'Victor Hugo', '1829-01-01'),
('Les Fleurs du mal', 'Poésie', 'Charles Baudelaire', '1857-01-01'),
('La Nausée', 'Philosophique', 'Jean-Paul Sartre', '1938-01-01'),
('Le Voleur', 'Classique', 'Georges Simenon', '1930-01-01'),
('La Peste', 'Philosophique', 'Albert Camus', '1947-01-01'),
('L\'Empire des anges', 'Fantastique', 'Bernard Werber', '2000-01-01');

